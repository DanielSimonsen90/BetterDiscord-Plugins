@use '../../packages/danho-lib/src/styles/utils.scss' as *;
@use '../../packages/danho-lib/src/styles/PluginSettings.scss' as *;
@use '../../packages/danho-lib/src/styles/Form.scss' as *;

.danho-align-user-area-panels-and-channel-text-area {
  @include className('channelTextArea') {
    --custom-chat-input-margin-bottom: 1.25rem;
  }
}

.danho-give-last-message-space {
  @include className('channelBottomBarArea') {
    margin-top: .5rem;
  }
}

.danho-round-guild-icons {
  [data-list-id=guildsnav] {
    @include className('icon', '*') {
      border-radius: 50% !important;
    }

    @include className('selected') {
      @include className('icon', '*') {
        border-radius: 25% !important;
        transition: border-radius 300ms;
        transition-delay: 100ms;
      }
    }
  }
}

.danho-sharpen-buttons {
  @include className('button', button) {
    border-radius: 3px;
  }
}

.danho-group-private-channel-nav-options {
  .danho-nav-group {
    display: grid;
    grid-auto-flow: column;

    &:has([class*=interactive]:hover)>* {
      margin-right: 1ch;
    }

    @include className('interactive') {
      &:hover {
        @include className('content') {
          display: block;
        }
      }

      @include className('link', 'a') {
        &:not([class*=interactive]:hover a[class*=link]) {
          padding-inline: 0;
        }
      }
    }

    @include className('avatarWithText') {
      justify-content: center;
      gap: 1ch;

      @include className('avatar') {
        margin-right: 0;
      }

      @include className('content') {
        display: none;
      }
    }
  }
}

@include className('visual-refresh', 'html') {
  &:has(.danho-align-user-area-panels-and-channel-text-area) {
    --custom-channel-textarea-text-area-height: 3rem;
    --custom-rtc-account-height: 3.5rem;

    @include className('panels', section) {
      bottom: calc(var(--space-xs) * 1.5);
    }
  }

  &:has(.danho-group-private-channel-nav-options) {
    --custom-channel-textarea-text-area-height: 3rem;
    --custom-rtc-account-height: 3.5rem;
  }
}